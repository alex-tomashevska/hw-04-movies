{"ast":null,"code":"var _jsxFileName = \"/Users/aleksandra/study/react/04/hw-04-movies/src/pages/MovieDetailsPage/index.js\",\n  _s = $RefreshSig$();\n/** @format */\n\nimport { memo, useEffect, useState } from 'react';\nimport { useLocation } from \"react-router-dom\";\nimport { Route, Routes } from 'react-router-dom';\nimport axios from \"axios\";\nimport { GoBackButton } from \"../../components/GoBackButton\";\nimport { Movie, MovieNavigation, Cast, Review } from \"../../components\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const MovieDetailsPage = /*#__PURE__*/_s( /*#__PURE__*/memo(_c = _s(() => {\n  _s();\n  const [movie, setMovie] = useState(null);\n  const [isLoading, setLoading] = useState(false);\n  const location = useLocation();\n  useEffect(() => {\n    getData();\n  }, []);\n  const getData = () => {\n    setLoading(true);\n    const {\n      movieId\n    } = location.pathname;\n    axios.get(movieId).then(response => {\n      setMovie({\n        ...response.data\n      });\n    }).catch(console.error).finally(() => setLoading(false));\n  };\n  const handleGoBack = () => {\n    var _location$state;\n    location.push((location === null || location === void 0 ? void 0 : (_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.from) || \"/\");\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(GoBackButton, {\n      onBack: handleGoBack\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), movie && /*#__PURE__*/_jsxDEV(Movie, {\n      movie: movie\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }, this), movie && /*#__PURE__*/_jsxDEV(MovieNavigation, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: `/movies/${location.pathname}/cast`,\n        element: /*#__PURE__*/_jsxDEV(Cast, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 74\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: `/movies/${location.pathname}/reviews`,\n        element: /*#__PURE__*/_jsxDEV(Review, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 77\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}, \"R23NI3a2zOwx3XdQn3kNxaqJPhQ=\", false, function () {\n  return [useLocation];\n})), \"R23NI3a2zOwx3XdQn3kNxaqJPhQ=\", false, function () {\n  return [useLocation];\n});\n_c2 = MovieDetailsPage;\nvar _c, _c2;\n$RefreshReg$(_c, \"MovieDetailsPage$memo\");\n$RefreshReg$(_c2, \"MovieDetailsPage\");","map":{"version":3,"names":["memo","useEffect","useState","useLocation","Route","Routes","axios","GoBackButton","Movie","MovieNavigation","Cast","Review","MovieDetailsPage","movie","setMovie","isLoading","setLoading","location","getData","movieId","pathname","get","then","response","data","catch","console","error","finally","handleGoBack","push","state","from"],"sources":["/Users/aleksandra/study/react/04/hw-04-movies/src/pages/MovieDetailsPage/index.js"],"sourcesContent":["/** @format */\n\nimport {memo, useEffect, useState} from 'react'\nimport {useLocation} from \"react-router-dom\";\nimport {Route, Routes} from 'react-router-dom';\nimport axios from \"axios\";\nimport {GoBackButton} from \"../../components/GoBackButton\";\nimport {Movie, MovieNavigation, Cast, Review} from \"../../components\";\n\nexport const MovieDetailsPage = memo(() => {\n  const [movie, setMovie] = useState(null);\n  const [isLoading, setLoading] =useState(false);\n\n\n  const location = useLocation();\n\n  useEffect(() => {\n    getData()\n  }, [])\n\n  const getData = () => {\n    setLoading(true);\n    const {movieId} = location.pathname;\n\n    axios.get(movieId)\n      .then((response) => {\n        setMovie({...response.data})\n      })\n      .catch(console.error)\n      .finally(() => setLoading(false))\n  };\n\n  const handleGoBack = () => {\n    location.push(location?.state?.from || \"/\" )\n  };\n\n  return(\n    <>\n      <GoBackButton onBack={handleGoBack}/>\n      {movie && <Movie movie={movie}/>}\n      {movie && <MovieNavigation/>}\n\n      <Routes>\n        <Route exact path={`/movies/${location.pathname}/cast`} element={<Cast/>} />\n        <Route exact path={`/movies/${location.pathname}/reviews`} element={<Review/>}/>\n      </Routes>\n      \n    </>\n  )\n} )"],"mappings":";;AAAA;;AAEA,SAAQA,IAAI,EAAEC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAC/C,SAAQC,WAAW,QAAO,kBAAkB;AAC5C,SAAQC,KAAK,EAAEC,MAAM,QAAO,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAAQC,YAAY,QAAO,+BAA+B;AAC1D,SAAQC,KAAK,EAAEC,eAAe,EAAEC,IAAI,EAAEC,MAAM,QAAO,kBAAkB;AAAC;AAAA;AAEtE,OAAO,MAAMC,gBAAgB,iCAAGZ,IAAI,SAAC,MAAM;EAAA;EACzC,MAAM,CAACa,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACa,SAAS,EAAEC,UAAU,CAAC,GAAEd,QAAQ,CAAC,KAAK,CAAC;EAG9C,MAAMe,QAAQ,GAAGd,WAAW,EAAE;EAE9BF,SAAS,CAAC,MAAM;IACdiB,OAAO,EAAE;EACX,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,OAAO,GAAG,MAAM;IACpBF,UAAU,CAAC,IAAI,CAAC;IAChB,MAAM;MAACG;IAAO,CAAC,GAAGF,QAAQ,CAACG,QAAQ;IAEnCd,KAAK,CAACe,GAAG,CAACF,OAAO,CAAC,CACfG,IAAI,CAAEC,QAAQ,IAAK;MAClBT,QAAQ,CAAC;QAAC,GAAGS,QAAQ,CAACC;MAAI,CAAC,CAAC;IAC9B,CAAC,CAAC,CACDC,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC,CACpBC,OAAO,CAAC,MAAMZ,UAAU,CAAC,KAAK,CAAC,CAAC;EACrC,CAAC;EAED,MAAMa,YAAY,GAAG,MAAM;IAAA;IACzBZ,QAAQ,CAACa,IAAI,CAAC,CAAAb,QAAQ,aAARA,QAAQ,0CAARA,QAAQ,CAAEc,KAAK,oDAAf,gBAAiBC,IAAI,KAAI,GAAG,CAAE;EAC9C,CAAC;EAED,oBACE;IAAA,wBACE,QAAC,YAAY;MAAC,MAAM,EAAEH;IAAa;MAAA;MAAA;MAAA;IAAA,QAAE,EACpChB,KAAK,iBAAI,QAAC,KAAK;MAAC,KAAK,EAAEA;IAAM;MAAA;MAAA;MAAA;IAAA,QAAE,EAC/BA,KAAK,iBAAI,QAAC,eAAe;MAAA;MAAA;MAAA;IAAA,QAAE,eAE5B,QAAC,MAAM;MAAA,wBACL,QAAC,KAAK;QAAC,KAAK;QAAC,IAAI,EAAG,WAAUI,QAAQ,CAACG,QAAS,OAAO;QAAC,OAAO,eAAE,QAAC,IAAI;UAAA;UAAA;UAAA;QAAA;MAAG;QAAA;QAAA;QAAA;MAAA,QAAG,eAC5E,QAAC,KAAK;QAAC,KAAK;QAAC,IAAI,EAAG,WAAUH,QAAQ,CAACG,QAAS,UAAU;QAAC,OAAO,eAAE,QAAC,MAAM;UAAA;UAAA;UAAA;QAAA;MAAG;QAAA;QAAA;QAAA;MAAA,QAAE;IAAA;MAAA;MAAA;MAAA;IAAA,QACzE;EAAA,gBAER;AAEP,CAAC;EAAA,QAnCkBjB,WAAW;AAAA,GAmC3B;EAAA,QAnCgBA,WAAW;AAAA,EAmC3B;AAAA,MAxCUS,gBAAgB;AAAA;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}